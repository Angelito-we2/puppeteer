"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[96580],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>k});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=a.createContext({}),u=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},s=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),d=u(r),k=n,c=d["".concat(o,".").concat(k)]||d[k]||m[k]||i;return r?a.createElement(c,l(l({ref:t},s),{},{components:r})):a.createElement(c,l({ref:t},s))}));function k(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=d;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:n,l[1]=p;for(var u=2;u<i;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},93346:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});r(67294);var a=r(3905);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const l={},p="Experimental WebDriver BiDi Support",o={unversionedId:"webdriver-bidi",id:"webdriver-bidi",title:"Experimental WebDriver BiDi Support",description:"WebDriver BiDi is a new cross-browser",source:"@site/../docs/webdriver-bidi.md",sourceDirName:".",slug:"/webdriver-bidi",permalink:"/next/webdriver-bidi",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Puppeteer Angular Schematic",permalink:"/next/integrations/ng-schematics"},next:{title:"Chromium Support",permalink:"/next/chromium-support"}},u={},s=[{value:"Automate with Chrome and Firefox",id:"automate-with-chrome-and-firefox",level:2},{value:"Puppeteer features supported over WebDriver BiDi",id:"puppeteer-features-supported-over-webdriver-bidi",level:2},{value:"Puppeteer features not yet supported over WebDriver BiDi",id:"puppeteer-features-not-yet-supported-over-webdriver-bidi",level:2}],m={toc:s};function d(e){var{components:t}=e,r=i(e,["components"]);return(0,a.kt)("wrapper",n({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",n({},{id:"experimental-webdriver-bidi-support"}),"Experimental WebDriver BiDi Support"),(0,a.kt)("p",null,(0,a.kt)("a",n({parentName:"p"},{href:"https://w3c.github.io/webdriver-bidi/"}),"WebDriver BiDi")," is a new cross-browser\nautomation protocol that adds browser-driven events to WebDriver. Here are the\nresources if you want to learn more about WebDriver BiDi:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",n({parentName:"li"},{href:"https://developer.chrome.com/articles/webdriver-bidi/"}),"WebDriver BiDi - The future of cross-browser automation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",n({parentName:"li"},{href:"https://developer.chrome.com/blog/webdriver-bidi-2023/"}),"WebDriver BiDi: 2023 status update"))),(0,a.kt)("h2",n({},{id:"automate-with-chrome-and-firefox"}),"Automate with Chrome and Firefox"),(0,a.kt)("p",null,"Firefox support has almost reaching feature parity with the previous CDP-based\nimplementation. To see which features are fully supported with WebDriver BiDi we\nused the ",(0,a.kt)("a",n({parentName:"p"},{href:"https://puppeteer.github.io/ispuppeteerwebdriverbidiready/"}),"Puppeteer test suite"),". Currently,\nwe still have fewer than\n",(0,a.kt)("a",n({parentName:"p"},{href:"https://puppeteer.github.io/ispuppeteerwebdriverbidiready/firefox-delta.json"}),"60"),"\ntests that are failing with Firefox and WebDriver BiDi compared to the previous\nCDP implementation in Firefox but we also have more than\n",(0,a.kt)("a",n({parentName:"p"},{href:"https://puppeteer.github.io/ispuppeteerwebdriverbidiready/firefox-delta.json"}),"82"),"\nnew tests that work with WebDriver BiDi and that didn't work with CDP."),(0,a.kt)("p",null,"For Chrome, around 68% of the tests are currently passing with WebDriver BiDi so\nthe CDP-based implementation remains more powerful. Some of the Puppeteer\nfunctionality is relying on CDP even with WebDriver BiDi enabled. Therefore, the\ntest pass rate is currently higher than that one of Firefox."),(0,a.kt)("p",null,"Example of launching Firefox with WebDriver BiDi:"),(0,a.kt)("pre",null,(0,a.kt)("code",n({parentName:"pre"},{className:"language-ts"}),"import puppeteer from 'puppeteer';\n\nconst browser = await puppeteer.launch({\n  product: 'firefox',\n  protocol: 'webDriverBiDi',\n});\nconst page = await browser.newPage();\n...\nawait browser.close();\n")),(0,a.kt)("p",null,"Example of launching Chrome with WebDriver BiDi:"),(0,a.kt)("pre",null,(0,a.kt)("code",n({parentName:"pre"},{className:"language-ts"}),"import puppeteer from 'puppeteer';\n\nconst browser = await puppeteer.launch({\n  product: 'chrome',\n  protocol: 'webDriverBiDi',\n});\nconst page = await browser.newPage();\n...\nawait browser.close();\n")),(0,a.kt)("h2",n({},{id:"puppeteer-features-supported-over-webdriver-bidi"}),"Puppeteer features supported over WebDriver BiDi"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Browser and page automation"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Browser.close"),(0,a.kt)("li",{parentName:"ul"},"Frame.goto() (except ",(0,a.kt)("inlineCode",{parentName:"li"},"referer")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"referrerPolicy"),")"),(0,a.kt)("li",{parentName:"ul"},"Page.bringToFront"),(0,a.kt)("li",{parentName:"ul"},"Page.goto (except ",(0,a.kt)("inlineCode",{parentName:"li"},"referer")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"referrerPolicy"),")"),(0,a.kt)("li",{parentName:"ul"},"Page.reload (except for ",(0,a.kt)("inlineCode",{parentName:"li"},"ignoreCache")," parameter)"),(0,a.kt)("li",{parentName:"ul"},"Page.setViewport (",(0,a.kt)("inlineCode",{parentName:"li"},"width"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"height"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"deviceScaleFactor")," only)"),(0,a.kt)("li",{parentName:"ul"},"Puppeteer.launch"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",n({parentName:"p"},{href:"https://pptr.dev/guides/evaluate-javascript"}),"Script evaluation"),":"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"JSHandle.evaluate"),(0,a.kt)("li",{parentName:"ul"},"JSHandle.evaluateHandle"),(0,a.kt)("li",{parentName:"ul"},"Page.evaluate"),(0,a.kt)("li",{parentName:"ul"},"Page.exposeFunction"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",n({parentName:"p"},{href:"https://pptr.dev/guides/query-selectors"}),"Selectors")," and ",(0,a.kt)("a",n({parentName:"p"},{href:"https://pptr.dev/guides/locators"}),"locators")," except for ARIA:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Page.$ (ARIA selectors supported in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.$$ (ARIA selectors supported in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.$$eval (ARIA selectors supported in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.$eval (ARIA selectors supported in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.waitForSelector (ARIA selectors supported in Chrome)"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Input"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"ElementHandle.click"),(0,a.kt)("li",{parentName:"ul"},"Keyboard.down"),(0,a.kt)("li",{parentName:"ul"},"Keyboard.press"),(0,a.kt)("li",{parentName:"ul"},"Keyboard.sendCharacter"),(0,a.kt)("li",{parentName:"ul"},"Keyboard.type"),(0,a.kt)("li",{parentName:"ul"},"Keyboard.up"),(0,a.kt)("li",{parentName:"ul"},"Mouse events (except for dedicated drag'n'drop API methods)"),(0,a.kt)("li",{parentName:"ul"},"Page.tap"),(0,a.kt)("li",{parentName:"ul"},"TouchScreen.","*"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"JavaScript dialog interception"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"page.on('dialog')"),(0,a.kt)("li",{parentName:"ul"},"Dialog.","*"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Screenshots (not all parameters are supported)"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Page.screenshot (supported parameters ",(0,a.kt)("inlineCode",{parentName:"li"},"clip"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"encoding"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"fullPage"),")"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"PDF generation (not all parameters are supported)"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Page.pdf (only ",(0,a.kt)("inlineCode",{parentName:"li"},"format"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"height"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"landscape"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"margin"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"pageRanges"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"printBackground"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"scale"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"width")," are supported)"),(0,a.kt)("li",{parentName:"ul"},"Page.createPDFStream (only ",(0,a.kt)("inlineCode",{parentName:"li"},"format"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"height"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"landscape"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"margin"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"pageRanges"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"printBackground"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"scale"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"width")," are supported)")))),(0,a.kt)("h2",n({},{id:"puppeteer-features-not-yet-supported-over-webdriver-bidi"}),"Puppeteer features not yet supported over WebDriver BiDi"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",n({parentName:"p"},{href:"https://pptr.dev/guides/request-interception"}),"Request interception")),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.abort()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.abortErrorReason()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.client()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.continue()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.continueRequestOverrides()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.failure()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.finalizeInterceptions()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.interceptResolutionState()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.isInterceptResolutionHandled()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.respond()"),(0,a.kt)("li",{parentName:"ul"},"HTTPRequest.responseForRequest()"),(0,a.kt)("li",{parentName:"ul"},"Page.setRequestInterception()"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Permissions"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"BrowserContext.clearPermissionOverrides()"),(0,a.kt)("li",{parentName:"ul"},"BrowserContext.overridePermissions()"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Various emulations (most are supported with Chrome)"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Page.emulate() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateCPUThrottling() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateIdleState() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateMediaFeatures() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateMediaType() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateTimezone() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateVisionDeficiency() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.setBypassCSP() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.setCacheEnabled() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.setGeolocation() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.setJavaScriptEnabled() (supported only in Chrome)"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"CDP-specific features"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Page.createCDPSession() (supported only in Chrome)"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Tracing (supported only in Chrome)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Coverage (supported only in Chrome)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Accessibility (supported only in Chrome)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Other methods:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Browser.userAgent()"),(0,a.kt)("li",{parentName:"ul"},"ElementHandle.uploadFile()"),(0,a.kt)("li",{parentName:"ul"},"Frame.isOOPFrame()"),(0,a.kt)("li",{parentName:"ul"},"Frame.waitForDevicePrompt()"),(0,a.kt)("li",{parentName:"ul"},"HTTPResponse.buffer()"),(0,a.kt)("li",{parentName:"ul"},"HTTPResponse.fromServiceWorker()"),(0,a.kt)("li",{parentName:"ul"},"HTTPResponse.securityDetails()"),(0,a.kt)("li",{parentName:"ul"},"Input.drag()"),(0,a.kt)("li",{parentName:"ul"},"Input.dragAndDrop()"),(0,a.kt)("li",{parentName:"ul"},"Input.dragOver()"),(0,a.kt)("li",{parentName:"ul"},"Input.drop()"),(0,a.kt)("li",{parentName:"ul"},"Page.authenticate()"),(0,a.kt)("li",{parentName:"ul"},"Page.cookies()"),(0,a.kt)("li",{parentName:"ul"},"Page.deleteCookie()"),(0,a.kt)("li",{parentName:"ul"},"Page.emulateNetworkConditions()"),(0,a.kt)("li",{parentName:"ul"},"Page.goBack()"),(0,a.kt)("li",{parentName:"ul"},"Page.goForward()"),(0,a.kt)("li",{parentName:"ul"},"Page.isDragInterceptionEnabled()"),(0,a.kt)("li",{parentName:"ul"},"Page.isJavaScriptEnabled() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.isServiceWorkerBypassed()"),(0,a.kt)("li",{parentName:"ul"},"Page.metrics()"),(0,a.kt)("li",{parentName:"ul"},"Page.queryObjects() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.screencast() (supported only in Chrome)"),(0,a.kt)("li",{parentName:"ul"},"Page.setBypassServiceWorker()"),(0,a.kt)("li",{parentName:"ul"},"Page.setCookie()"),(0,a.kt)("li",{parentName:"ul"},"Page.setDragInterception()"),(0,a.kt)("li",{parentName:"ul"},"Page.setExtraHTTPHeaders()"),(0,a.kt)("li",{parentName:"ul"},"Page.setOfflineMode()"),(0,a.kt)("li",{parentName:"ul"},"Page.setUserAgent()"),(0,a.kt)("li",{parentName:"ul"},"Page.waitForDevicePrompt()"),(0,a.kt)("li",{parentName:"ul"},"Page.waitForFileChooser()"),(0,a.kt)("li",{parentName:"ul"},"Page.workers()"),(0,a.kt)("li",{parentName:"ul"},"PageEvent.popup"),(0,a.kt)("li",{parentName:"ul"},"PageEvent.WorkerCreated"),(0,a.kt)("li",{parentName:"ul"},"PageEvent.WorkerDestroyed"),(0,a.kt)("li",{parentName:"ul"},"Target.opener()")))))}d.isMDXComponent=!0}}]);